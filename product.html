<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Product Detail</title>
  <style>
    body {
      background-color: #f5f5f5;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
    }
    header {
      background-color: #333;
      color: white;
      padding: 1rem 2rem;
      text-align: center;
    }
    .container {
      max-width: 1200px;
      margin: auto;
      padding: 2rem;
    }
    .selected-product {
      background-color: white;
      padding: 1.5rem;
      margin-bottom: 2rem;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }
    .selected-product img {
      max-width: 200px;
      margin-bottom: 1rem;
    }
    .product-name {
      font-size: 20px;
      font-weight: bold;
      margin-bottom: 0.5rem;
    }
    .product-price {
      font-size: 18px;
      color: #4CAF50;
      margin-bottom: 1rem;
    }
    .products {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
    }
    .product-card {
      background-color: white;
      padding: 1rem;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      transition: transform 0.2s;
      cursor: pointer;
    }
    .product-card:hover {
      transform: translateY(-5px);
    }
    .product-image {
      background-color: #ddd;
      width: 100%;
      height: auto;
      border-radius: 8px;
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }
    .product-image img {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
      border-radius: 8px;
    }
    .btn {
      display: inline-block;
      background-color: #4CAF50;
      color: white;
      padding: 0.5rem 1rem;
      border: none;
      border-radius: 5px;
      text-decoration: none;
      font-size: 14px;
    }
    .btn2 {
      display: inline-block;
      background-color: #f0610e;
      color: white;
      padding: 0.5rem 1rem;
      border: none;
      border-radius: 5px;
      text-decoration: none;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <header>
    <h1>Product Details</h1>
  </header>
  <div class="container">
    <div id="selected-product" class="selected-product"></div>

    <h2>Other Products</h2>
    <div class="products" id="product-list"></div>
  </div>

 <script>
  const selected = JSON.parse(localStorage.getItem('selectedProduct'));

  const selectedContainer = document.getElementById('selected-product');
  if (selected) {
    selectedContainer.innerHTML = `
      <img src="${selected.image}" alt="">
      <div class="product-name">${selected.name}</div>
      <div class="product-price">${selected.price}</div>
     <a href="checkout.html?from=product" class="btn2" id="buy-now-btn" style="background-color:#ff9800; margin-left:10px;">Buy Now</a>
    `;
    document.getElementById('buy-now-btn').addEventListener('click', function(e) {
  e.preventDefault();
  window.location.href = 'checkout.html?from=product'; // âœ… Fixed
});

   
  }

  

  const products = [
    {
    image: "/img/phone_charger.png",
    name: "Apple 20W USB-C Power Adapter",
    price: "à§³2567"
  },
  {
    image: "/img/powerbank.png",
    name: "Ultra RÃ¡pido 20000mAh Power Bank",
    price: "à§³10000"
  },
  {
    image: "/img/Phonecase.png",
    name: "Lamicall Waterproof Phone Pouch Case",
    price: "à§³1432"
  },
  {
    image: "/img/usb cable.png",
    name: "Amazon Basics DisplayPort Cable",
    price: "à§³565"
  },
  {
    image: "/img/micro.png",
    name: "Studio Condenser Microphone Kit",
    price: "à§³10893"
  },
  {
    image: "/img/keyboard.png",
    name: "Redragon K552 Mechanical Gaming Keyboard",
    price: "à§³1563"
  },
  {
    image: "/img/mouse.png",
    name: "Razer Basilisk V3 Gaming Mouse",
    price: "à§³869"
  },
  {
    image: "/img/mouse_pad.png",
    name: "RGB Gaming Mouse Pad XL",
    price: "à§³283"
  },
  {
    image: "/img/speaker.png",
    name: "JBL GO 3 Portable Speaker",
    price: "à§³1934"
  },
  {
    image: "/img/stand.png",
    name: "Adjustable Laptop Stand",
    price: "à§³656"
  },
  {
    image: "/img/pen.png",
    name: "Stylus Pen for Touch Screens",
    price: "à§³432"
  },
  {
    image: "/img/headset.png",
    name: "SteelSeries Arctis Pro Wireless Headset",
    price: "à§³78547"
  },
  {
    image: "/img/usb_hub.png",
    name: "Anker USB C Hub, PowerExpand+ 7-in-1",
    price: "à§³214"
  },
  {
    image: "/img/earphone.png",
    name: "Sony MDR-EX15AP Wired Earphones",
    price: "à§³423"
  },
  {
    image: "img/ssd.png",
    name: "Samsung 970 EVO Plus 1TB NVMe SSD",
    price: "à§³14323"
  },
  {
    image: "img/img 8.jpg",
    name: "MSI GeForce RTX 3080 Ventus 3X",
    price: "à§³150999"
  },
  {
    image: "img/71ANGtyZRzL._AC_UY218_.png",
    name: "ASUS ROG Zephyrus G14 Gaming Laptop",
    price: "à§³450890"
  },
  {
    image: "img/img6.jpg",
    name: "Alienware AW2723DF 27\" Monitor",
    price: "à§³155999"
  },
  {
    image: "img/img5.jpg",
    name: "LG UltraGear QHD Nano IPS Monitor",
    price: "à§³100000"
  },
  {
    image: "img/513c8GtpBBL.__AC_SX300_SY300_QL70_FMwebp_.png",
    name: "Crucial 16GB DDR4 Laptop RAM",
    price: "à§³29999"
  },
  {
    image: "img/411T6bF3OfL._AC_UY218_.png",
    name: "Logitech HD Webcam C920",
    price: "à§³5999"
  },
  {
    image: "img/510V6PbPGrL._AC_UY218_.png",
    name: "Corsair Vengeance RGB RAM 16GB",
    price: "à§³10080"
  },
  {
    image: "img/imj9.png",
    name: "Cooler Master Hyper 212 Black",
    price: "à§³12120"
  },
  {
    image: "img/img10_.png",
    name: "Seagate Barracuda 2TB HDD",
    price: "à§³29880"
  },
  {
    image: "img/img11_.png",
    name: "TP-Link Wi-Fi Range Extender",
    price: "à§³3480"
  },
  {
    image: "img/img 12.png",
    name: "Dell Docking Station â€“ USB 3.0",
    price: "à§³27480"
  },
  {
    image: "img/img13_.png",
    name: "Logitech Wireless Presenter R400",
    price: "à§³2760"
  },
  {
    image: "img/img14_.png",
    name: "BenQ ZOWIE XL2411K Monitor",
    price: "à§³33720"
  },
  {
    image: "img/img15_.png",
    name: "NZXT Kraken X53 RGB Cooler",
    price: "à§³16080"
  },
  {
    image: "img/img16.png",
    name: "Xiaomi Mi Router AX1800",
    price: "à§³27480"
  },
  ];

  const productList = document.getElementById('product-list');

  products.forEach(p => {
    const card = document.createElement('div');
    card.className = 'product-card';
    card.innerHTML = `
      <div class="product-image"><img src="${p.image}" alt=""></div>
      <div class="product-name">${p.name}</div>
      <div class="product-price">${p.price}</div>
      <a href="#" class="btn">Add to Cart</a>

    `;

    // ðŸ” Make other products clickable stoo
    card.addEventListener('click', () => {
      localStorage.setItem('selectedProduct', JSON.stringify(p));
      window.location.reload(); // reload same page with new selected product
    });

    productList.appendChild(card);
  });
</script>

<!-- âœ… Toast message -->
<div id="toast" style="
  position: fixed;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%);
  background-color: #4CAF50;
  color: white;
  padding: 12px 20px;
  border-radius: 6px;
  font-size: 1rem;
  display: none;
  z-index: 9999;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
">âœ… Added to cart!</div>

<script>
  function showToast(message = "âœ… Added to cart!") {
    const toast = document.getElementById('toast');
    toast.textContent = message;
    toast.style.display = 'block';

    setTimeout(() => {
      toast.style.opacity = '1';
      toast.style.transition = 'opacity 0.3s';
    }, 100); // fade in

    setTimeout(() => {
      toast.style.opacity = '0';
      setTimeout(() => toast.style.display = 'none', 300);
    }, 2000); // hide after 2 sec
  }

  document.addEventListener('DOMContentLoaded', () => {
    const buttons = document.querySelectorAll('.btn');

    buttons.forEach(btn => {
      btn.addEventListener('click', (e) => {
        e.preventDefault();
        e.stopPropagation(); // âœ… Prevent redirect

        const card = btn.closest('.product-card');
        if (card) {
          const img = card.querySelector('img')?.src || '';
          const name = card.querySelector('.product-name')?.textContent || 'Unnamed';
          const price = card.querySelector('.product-price')?.textContent || 'à§³0';

          const item = { image: img, name, price };
          const cart = JSON.parse(localStorage.getItem('cartItems')) || [];
          cart.push(item);
          localStorage.setItem('cartItems', JSON.stringify(cart));

          showToast();
        }
      });
    });

    // ðŸ” Card click redirects to details
    const productCards = document.querySelectorAll('.product-card');
    productCards.forEach(card => {
      card.addEventListener('click', () => {
        const image = card.querySelector('img').getAttribute('src');
        const name = card.querySelector('.product-name').textContent;
        const price = card.querySelector('.product-price').textContent;

        const product = { image, name, price };
        localStorage.setItem('selectedProduct', JSON.stringify(product));
        window.location.href = 'product.html'; // redirect to details
      });
    });
  });
</script>


</body>
</html>
